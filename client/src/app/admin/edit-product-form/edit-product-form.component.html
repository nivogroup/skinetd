<form [formGroup]="editProductForm" (ngSubmit)="onSubmit()">
    <div class="form-row">
      <div class="form-group col-md-6">
        <app-text-input [label]="'Product name'" formControlName="name"></app-text-input>
      </div>
      <div class="form-group col-md-6">
        <app-text-input [label]="'Price'" [type]="'number'" formControlName="price"></app-text-input>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-12">
        <app-text-input [label]="'Description'" [type]="'textarea'" formControlName="description"></app-text-input>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label>Types</label>
        <app-select-dropdown 
        formControlName="productTypeId"
        [label]="'Types'" 
        [Items]="types" 
        [selectedId]="product.productTypeId"></app-select-dropdown>
      </div>
      <div class="form-group col-md-6">
        <label>Brands</label>
        <app-select-dropdown 
        formControlName="productBrandId"
        [label]="'Brand'" 
        [Items]="brands" 
        [selectedId]="product.productBrandId"></app-select-dropdown>
      </div>
    </div>
    <button [disabled]="editProductForm.invalid" type="submit" class="btn btn-primary my-3 float-right">Submit</button>
  </form>

<!-- <form [formGroup]="editProductForm" (ngSubmit)="onSubmit()">
  <div class="form-row">
    <div class="form-group col-md-6">
      <app-text-input [label]="'Product Name'" formControlName="name"></app-text-input>
    </div>
    <div class="form-group col-md-6">
      <app-text-input [label]="'Price'" [type]="'number'" formControlName="price" ></app-text-input>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-12">
      <app-text-input [label]="'Description'" [type]="'textarea'" formControlName="description"></app-text-input>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label>Type</label>
      <app-select-dropdown 
        formControlName="productTypeId"
        [label]="'Types'"
        [Items]="types"
        [selectedId]="product.productTypeId"
      ></app-select-dropdown>
    </div>
    <div class="form-group col-md-6">
      <label>Brands</label>
      <app-select-dropdown 
        formControlName="productBrandId"
        [label]="'Brands'"
        [Items]="brands"
        [selectedId]="product.productBrandId"
      ></app-select-dropdown>
    </div>
  </div>
  <button [disabled]="editProductForm.invalid" type="submit" class="btn btn btn-primary my-3 float-right">Submit</button>

</form> -->

<!-- <form #productForm="ngForm" (ngSubmit)="onSubmit(productForm.valid && productForm.value)">
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="name"> Product Name </label>
      <input [ngClass]="{'is-invalid': name.invalid && (name.dirty || name.touched)}"
        required
        type="text"
        class="form-control"
        id="name"
        placeholder="Product Name"
        name="name"
        #name="ngModel"
        [(ngModel)]="product.name"
      />
      <div *ngIf="name.invalid && (name.dirty || name.touched)" class="invalid-feedback">
        <div *ngIf="name.errors.required">Product Name is required</div>
      </div>
    </div>

    <div class="form-group col-md-6">
      <label for="price">Price</label>
      <input [ngClass]="{ 'is-invalid': price.invalid && (price.dirty || price.touched)}"
        required
        id="price"
        placeholder="Price"
        type="text"
        class="form-control"
        currencyMask
        name="price"
        #price="ngModel"
        [ngModel]="+product.price | number: '1.2-2'"
        pattern="^\$?([0-9]{1,3},([0-9]{3},)*[0-9]{3}|[0-9]+)(\.[0-9][0-9])?$"
        min="0.01"
        (ngModelChange)="updatePrice(+$event)"
      />
      <div
        *ngIf="price.invalid && (price.dirty || price.touched)"
        class="invalid-feedback"
      >
        <div *ngIf="price.errors.required">Product Price is required</div>
        <div *ngIf="price.errors.pattern">
          Product Price need to be decimal value
        </div>
        <div *ngIf="price.errors.min">
          Product Price must be grater than zero
        </div>
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-12">
      <label for="description">Description</label>
      <textarea
        [ngClass]="{
          'is-invalid':
            description.invalid && (description.dirty || description.touched)
        }"
        required
        #description="ngModel"
        [ngModel]="product.description"
        name="description"
        id="description"
        rows="3"
        class="form-control"
      ></textarea>
      <div
        *ngIf="
          description.invalid && (description.dirty || description.touched)
        "
        class="invalid-feedback"
      >
        <div *ngIf="description.errors.required">
          Product Description is required
        </div>
      </div>
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="brand">Brand</label>
      <select
        name="productBrandId"
        id="brand"
        class="form-control"
        [(ngModel)]="product.productBrandId"
        required
      >
        <option
          *ngFor="let brand of brands"
          [selected]="product.productBrandId === brand.id"
          [ngValue]="brand.id"
        >
          {{ brand.name }}
        </option>
      </select>
    </div>
    <div class="form-group col-md-6">
      <label for="brand">Type</label>
      <select
        name="productTypeId"
        id="type"
        class="form-control"
        [(ngModel)]="product.productTypeId"
        required
      >
        <option
          *ngFor="let type of types"
          [selected]="product.productTypeId === type.id"
          [ngValue]="type.id"
        >
          {{ type.name }}
        </option>
      </select>
    </div>
  </div>
  <button
    [disabled]="!productForm.valid"
    type="submit"
    class="btn btn-primary my-3 float-right"
  >
    Submit
  </button>
</form> -->
